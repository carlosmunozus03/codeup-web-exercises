<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mapbox API</title>
    <!--MAPBOX TAGS HERE-->

    <link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet'/>
    <style>
        .popup-font {
            font-family: Roboto, sans-serif;
        }
    </style>
</head>
<body>
<h1>Welcome to Mapbox</h1>
<!--CAN CHANGE THE HEIGHT AND WIDTH-->
<div id='map' style='width: 400px; height: 300px;'></div>

<script src="js/keys.js"></script>

<!--MOVE THE API HERE-->

<script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>

<!--START CODING HERE-->

<script>
    mapboxgl.accessToken = MAPBOX_ACCESS_TOKEN;
    var map = new mapboxgl.Map({
        container: 'map', // container ID
        style: 'mapbox://styles/mapbox/streets-v11', // style URL
        center: [-98.4916, 29.4252], // starting position [lng, lat]
        zoom: 9 // starting zoom
    });

    map.setStyle('mapbox://styles/mapbox/navigation-guidance-day-v4'); // CHANGE THE STYLE URL
    map.setZoom(12); // CHANGE THE STARTING ZOOM
    map.setCenter([-98.4683, 29.5312]); // CHANGE THE POSITION [LNG, LAT]

    console.log(map.getCenter());

    // MARKET OBJECTS SET OPTIONS
    var marker = new mapboxgl.Marker({
        color: "red",
    }).setLngLat([-98.4683, 29.5312])
        .addTo(map)
        .setDraggable(true);

    //  ADD A ALERT WITH A COMMENT
    marker.on('dragend', function () {
        alert('the market has been moved')
    });

    // INSTANTIATION OF POPUPS OBJECT

    var popup = new mapboxgl.Popup()
        .setLngLat(marker.getLngLat())
        .setHTML("<h3>You are Here!</h3>")
        .setMaxWidth("100")
        .addTo(map);

    // YOU CAN DO THIS TOO
    marker.setPopup(popup);
    popup.addClassName('popup-font')

</script>

</body>
</html>